{"version":3,"file":"environment-marker.min.js","names":["inputUrlFragmentPlaceholder","chrome","i18n","getMessage","inputUrlFragmentRegExpPlaceholder","inputColorPlaceholder","inputLabelPlaceholder","selectFontSizeLabel","selectPositionLabel","selectRibbonSizeLabel","buttonSaveLabel","positionSelectTopLeft","positionSelectTopRight","positionSelectBottomLeft","positionSelectBottomRight","sizeSelectExtraSmall","sizeSelectSmall","sizeSelectNormal","sizeSelectLarge","sizeSelectExtraLarge","noticeNoRibbons","buttonClearAll","buttonDisable","buttonEnable","buttonOptions","errorDuplicateMarker","errorLabelEmpty","errorUrlEmpty","colorPickerUiDialog","colorPickerBtnToggle","colorPickerBtnSwatch","colorPickerBtnLastColor","colorPickerBtnSave","colorPickerBtnCancel","colorPickerBtnClear","colorPickerAriaBtnSave","colorPickerAriaBtnCancel","colorPickerAriaBtnClear","colorPickerAriaInput","colorPickerAriaPalette","colorPickerAriaHue","colorPickerAriaOpacity","displayAt","ariaLabelEditRibbon","ariaLabelDeleteRibbon","ariaLabelAlertClose","languageCode","getUILanguage","pickr","colorSwatches","extensionEnabledKey","swatchesKey","markersKey","dbVersionKey","searchModeKey","maxSwatches","hide","show","fontSizeMap","value","label","positionsMap","sizesMap","onError","error","console","log","truncateString","str","num","length","slice","versionCompare","v1","v2","options","lexicographical","zeroExtend","v1parts","split","v2parts","isValidPart","x","test","every","NaN","push","map","Number","i","initialize","storage","sync","get","then","storedResult","storedVersion","extensionVersion","runtime","getManifest","version","storedResults","storedArray","Object","keys","convertedArray","storedMarker","storeObject","settingUrl","settingColor","settingLabel","settingPosition","settingSize","settingFontSize","clear","set","initializeDisplay","$","remove","showOrHideEmptyNotice","index","displaySetting","action","css","saveSwatches","swatches","showMessage","textMsg","errorFlag","messageClass","alert","append","window","setTimeout","searchStoredMarkers","url","notIndex","saveSettings","val","getSelectedColor","toHEXA","toString","storeSetting","settingIndex","updateSetting","indexEditVal","newSettingUrl","replacePrevious","settingExists","updatedArray","filter","currentObj","deleteSetting","filteredArray","clearAll","each","element","settingFontSizeDisplay","undefined","reduce","accumulator","currentValue","settingPositionDisplay","settingSizeDisplay","settingUrlDisplay","settingUrlDisplayEncoded","he","encode","innerSettingsContainer","class","displayContainer","displayString","displayLabelUrl","tabindex","html","click","editContainer","displayColor","deleteBtnContainer","deleteBtn","this","parent","id","style","editUrlInputContainer","editUrlInput","placeholder","editIndexHiddenInput","type","editColorInputContainer","editColorInput","editLabelInputContainer","editLabelInput","optionsSelectFontSizeContainer","optionsSelectFontSize","Option","optionsSelectPositionContainer","optionsSelectPosition","optionsSelectSizeContainer","optionsSelectSize","updateBtnContainer","updateBtn","urlEditVal","colorEditVal","labelEditVal","fontSizeEditVal","positionEditVal","sizeEditVal","cancelBtnContainer","cancelBtn","editFirstRow","editSecondRow","replaceWith","storedSwatchesArray","Pickr","create","el","theme","default","useAsButton","components","preview","opacity","hue","interaction","hex","rgba","hsla","hsva","cmyk","input","save","on","color","instance","swatchList","getSwatches","includes","toRGBA","pop","unshift","setSwatches","prototype","_swatchColors","arr","swatch","removeSwatch","forEach","addSwatch","document","ready","attr","clearButton","toggleButton","optionsButton","openOptionsPage","extensionEnabledValue","extensionEnabled","btnLabel","sendMessage","cmd","data","keydown","event","key","close","url_input","color_input","label_input","storedSearchMode"],"sources":["environment-marker.js"],"sourcesContent":["let inputUrlFragmentPlaceholder = chrome.i18n.getMessage(\"inputUrlFragmentPlaceholder\"),\r\n    inputUrlFragmentRegExpPlaceholder = chrome.i18n.getMessage(\"inputUrlFragmentRegExpPlaceholder\"),\r\n    inputColorPlaceholder = chrome.i18n.getMessage(\"inputColorPlaceholder\"),\r\n    inputLabelPlaceholder = chrome.i18n.getMessage(\"inputLabelPlaceholder\"),\r\n    selectFontSizeLabel = chrome.i18n.getMessage(\"selectFontSizeLabel\"),\r\n    selectPositionLabel = chrome.i18n.getMessage(\"selectPositionLabel\"),\r\n    selectRibbonSizeLabel = chrome.i18n.getMessage(\"inputLabelPlaceholder\"),\r\n    buttonSaveLabel = chrome.i18n.getMessage(\"buttonSaveLabel\"),\r\n    positionSelectTopLeft = chrome.i18n.getMessage(\"positionSelectTopLeft\"),\r\n    positionSelectTopRight = chrome.i18n.getMessage(\"positionSelectTopRight\"),\r\n    positionSelectBottomLeft = chrome.i18n.getMessage(\"positionSelectBottomLeft\"),\r\n    positionSelectBottomRight = chrome.i18n.getMessage(\"positionSelectBottomRight\"),\r\n    sizeSelectExtraSmall = chrome.i18n.getMessage(\"sizeSelectExtraSmall\"),\r\n    sizeSelectSmall = chrome.i18n.getMessage(\"sizeSelectSmall\"),\r\n    sizeSelectNormal = chrome.i18n.getMessage(\"sizeSelectNormal\"),\r\n    sizeSelectLarge = chrome.i18n.getMessage(\"sizeSelectLarge\"),\r\n    sizeSelectExtraLarge = chrome.i18n.getMessage(\"sizeSelectExtraLarge\"),\r\n    noticeNoRibbons = chrome.i18n.getMessage(\"noticeNoRibbons\"),\r\n    buttonClearAll = chrome.i18n.getMessage(\"buttonClearAll\"),\r\n    buttonDisable = chrome.i18n.getMessage(\"buttonDisable\"),\r\n    buttonEnable = chrome.i18n.getMessage(\"buttonEnable\"),\r\n    buttonOptions = chrome.i18n.getMessage(\"buttonOptions\"),\r\n    errorDuplicateMarker = chrome.i18n.getMessage(\"errorDuplicateMarker\"),\r\n    errorLabelEmpty = chrome.i18n.getMessage(\"errorLabelEmpty\"),\r\n    errorUrlEmpty = chrome.i18n.getMessage(\"errorUrlEmpty\"),\r\n    colorPickerUiDialog = chrome.i18n.getMessage(\"colorPickerUiDialog\"),\r\n    colorPickerBtnToggle = chrome.i18n.getMessage(\"colorPickerBtnToggle\"),\r\n    colorPickerBtnSwatch = chrome.i18n.getMessage(\"colorPickerBtnSwatch\"),\r\n    colorPickerBtnLastColor = chrome.i18n.getMessage(\"colorPickerBtnLastColor\"),\r\n    colorPickerBtnSave = chrome.i18n.getMessage(\"colorPickerBtnSave\"),\r\n    colorPickerBtnCancel = chrome.i18n.getMessage(\"colorPickerBtnCancel\"),\r\n    colorPickerBtnClear = chrome.i18n.getMessage(\"colorPickerBtnClear\"),\r\n    colorPickerAriaBtnSave = chrome.i18n.getMessage(\"colorPickerAriaBtnSave\"),\r\n    colorPickerAriaBtnCancel = chrome.i18n.getMessage(\"colorPickerAriaBtnCancel\"),\r\n    colorPickerAriaBtnClear = chrome.i18n.getMessage(\"colorPickerAriaBtnClear\"),\r\n    colorPickerAriaInput = chrome.i18n.getMessage(\"colorPickerAriaInput\"),\r\n    colorPickerAriaPalette = chrome.i18n.getMessage(\"colorPickerAriaPalette\"),\r\n    colorPickerAriaHue = chrome.i18n.getMessage(\"colorPickerAriaHue\"),\r\n    colorPickerAriaOpacity = chrome.i18n.getMessage(\"colorPickerAriaOpacity\"),\r\n    displayAt = chrome.i18n.getMessage(\"displayAt\"),\r\n    ariaLabelEditRibbon = chrome.i18n.getMessage(\"ariaLabelEditRibbon\"),\r\n    ariaLabelDeleteRibbon = chrome.i18n.getMessage(\"ariaLabelDeleteRibbon\"),\r\n    ariaLabelAlertClose = chrome.i18n.getMessage(\"ariaLabelAlertClose\");\r\n\r\nlet languageCode = chrome.i18n.getUILanguage(),\r\n    pickr = null,\r\n    colorSwatches = [\r\n      'rgba(244, 67,  54, 1)',\r\n      'rgba(233, 30,  99, 1)',\r\n      'rgba(156, 39, 176, 1)',\r\n      'rgba(103, 58, 183, 1)',\r\n      'rgba(63,  81, 181, 1)',\r\n      'rgba(33, 150, 243, 1)',\r\n      'rgba(3,  169, 244, 1)'\r\n    ];\r\nconst extensionEnabledKey = '__em-enabled__';\r\nconst swatchesKey = '__em-swatches__';\r\nconst markersKey = '__em-markers__';\r\nconst dbVersionKey = '__em-version__';\r\nconst searchModeKey = '__em-search-mode__';\r\nconst maxSwatches = 7;\r\nconst hide = 'none';\r\nconst show = 'block';\r\nconst fontSizeMap = [\r\n  {value: '10', label: '10px'},\r\n  {value: '12', label: '12px'},\r\n  {value: '14', label: '14px'},\r\n  {value: '16', label: '16px'},\r\n  {value: '18', label: '18px'},\r\n];\r\nconst positionsMap = [\r\n  {value: 'top-left', label: positionSelectTopLeft},\r\n  {value: 'top-right', label: positionSelectTopRight},\r\n  {value: 'bottom-left', label: positionSelectBottomLeft},\r\n  {value: 'bottom-right', label: positionSelectBottomRight}\r\n];\r\nconst sizesMap = [\r\n  {value: 'extra-small', label: sizeSelectExtraSmall},\r\n  {value: 'small', label: sizeSelectSmall},\r\n  {value: 'normal', label: sizeSelectNormal},\r\n  {value: 'large', label: sizeSelectLarge},\r\n  {value: 'extra-large', label: sizeSelectExtraLarge}\r\n];\r\n\r\nPickr.prototype.getSwatches = function() {\r\n  return this._swatchColors.reduce((arr, swatch) => {\r\n    arr.push(swatch.color.toRGBA().toString(0));\r\n    return arr;\r\n  }, []);\r\n}\r\n\r\nPickr.prototype.setSwatches = function(swatches) {\r\n  if (!swatches.length) return;\r\n  for (let i = this._swatchColors.length - 1; i > -1; i--) {\r\n    this.removeSwatch(i);\r\n  }\r\n  swatches.forEach(swatch => this.addSwatch(swatch));\r\n}\r\n\r\nfunction onError(error) {\r\n  console.log(error);\r\n}\r\n\r\nfunction truncateString(str, num) {\r\n  if (str.length <= num) {\r\n    return str;\r\n  }\r\n  return str.slice(0, num) + '...';\r\n}\r\n\r\n// Gist: https://gist.github.com/TheDistantSea/8021359\r\n// a negative integer iff v1 < v2\r\n// a positive integer iff v1 > v2\r\nfunction versionCompare(v1, v2, options) {\r\n  var lexicographical = options && options.lexicographical,\r\n      zeroExtend = options && options.zeroExtend,\r\n      v1parts = v1.split('.'),\r\n      v2parts = v2.split('.');\r\n  function isValidPart(x) {\r\n    return (lexicographical ? /^\\d+[A-Za-z]*$/ : /^\\d+$/).test(x);\r\n  }\r\n  if (!v1parts.every(isValidPart) || !v2parts.every(isValidPart)) {\r\n    return NaN;\r\n  }\r\n  if (zeroExtend) {\r\n    while (v1parts.length < v2parts.length) v1parts.push(\"0\");\r\n    while (v2parts.length < v1parts.length) v2parts.push(\"0\");\r\n  }\r\n  if (!lexicographical) {\r\n    v1parts = v1parts.map(Number);\r\n    v2parts = v2parts.map(Number);\r\n  }\r\n  for (var i = 0; i < v1parts.length; ++i) {\r\n    if (v2parts.length == i) {\r\n      return 1;\r\n    }\r\n    if (v1parts[i] == v2parts[i]) {\r\n      continue;\r\n    }\r\n    else if (v1parts[i] > v2parts[i]) {\r\n      return 1;\r\n    }\r\n    else {\r\n      return -1;\r\n    }\r\n  }\r\n  if (v1parts.length != v2parts.length) {\r\n    return -1;\r\n  }\r\n  return 0;\r\n}\r\n\r\nfunction initialize() {\r\n  chrome.storage.sync.get(dbVersionKey).then((storedResult) => {\r\n    let storedVersion = storedResult[dbVersionKey] || '',\r\n        extensionVersion = chrome.runtime.getManifest().version;\r\n\r\n    if (storedVersion === '') {\r\n      // This should process only once for people that have pre v2.3 installed\r\n      // Pre v2.3 did not store the version in the db, therefore it should be empty\r\n      chrome.storage.sync.get(null).then((storedResults) => {\r\n        let storedArray = Object.keys(storedResults);\r\n\r\n        if (storedArray.length > 0) {\r\n          let convertedArray = [];\r\n          for (let storedMarker of storedArray) {\r\n            let storeObject = {\r\n              settingUrl: storedMarker,\r\n              settingColor: storedResults[storedMarker][0],\r\n              settingLabel: storedResults[storedMarker][1],\r\n              settingPosition: storedResults[storedMarker][2],\r\n              settingSize: storedResults[storedMarker][3],\r\n              settingFontSize: storedResults[storedMarker][4]\r\n            };\r\n            convertedArray.push(storeObject);\r\n          }\r\n\r\n          // Initial data conversion for pre v2.3 (old data is cleared before inserting the new format)\r\n          chrome.storage.sync.clear().then(() => {\r\n            chrome.storage.sync.set({ [markersKey] : convertedArray }).then(() => {\r\n              chrome.storage.sync.set({ [dbVersionKey] : extensionVersion }).then(() => {\r\n                initializeDisplay();\r\n              }, onError);\r\n            }, onError);\r\n          });\r\n        } else {\r\n          // No previous markers saved\r\n          chrome.storage.sync.set({ [dbVersionKey] : extensionVersion }).then(() => {\r\n            initializeDisplay();\r\n          }, onError);\r\n        }\r\n      }, onError);\r\n    } else {\r\n      // Version is saved in the db\r\n      if (versionCompare(extensionVersion, storedVersion, {zeroExtend: true}) > 0) {\r\n        // For future updates (when version number increases)\r\n        chrome.storage.sync.set({ [dbVersionKey] : extensionVersion }).then(() => {\r\n          initializeDisplay();\r\n        }, onError);\r\n      } else {\r\n        initializeDisplay();\r\n      }\r\n    }\r\n  }, onError);\r\n}\r\n\r\nfunction initializeDisplay() {\r\n  chrome.storage.sync.get(markersKey).then((storedResults) => {\r\n    let storedArray = storedResults[markersKey] || [];\r\n\r\n    if (storedArray.length > 0) {\r\n      $('.setting').remove();\r\n      showOrHideEmptyNotice(hide);\r\n\r\n      for (let index in storedArray) {\r\n        displaySetting(\r\n            index,\r\n            storedArray[index].settingUrl,\r\n            storedArray[index].settingColor,\r\n            storedArray[index].settingLabel,\r\n            storedArray[index].settingPosition,\r\n            storedArray[index].settingSize,\r\n            storedArray[index].settingFontSize\r\n        );\r\n      }\r\n    } else {\r\n      showOrHideEmptyNotice(show);\r\n    }\r\n  }, onError);\r\n}\r\n\r\nfunction showOrHideEmptyNotice(action = null) {\r\n  if (action === null) {\r\n    // Only executes on delete\r\n    initializeDisplay();\r\n  } else {\r\n    $('.empty-notice').css('display', action);\r\n  }\r\n}\r\n\r\nfunction saveSwatches(swatches) {\r\n  chrome.storage.sync.set({ [swatchesKey] : swatches }).then(null, onError);\r\n}\r\n\r\n/* Show error or success messages */\r\nfunction showMessage(textMsg, errorFlag = false) {\r\n  let messageClass = errorFlag ? 'alert-danger' : 'alert-success';\r\n  if ($('.alert-dismissible').length) {\r\n    $(\".alert-dismissible\").alert('close');\r\n  }\r\n\r\n  $('.outer-wrapper .message-container').append(\r\n    '<div class=\"alert ' + messageClass + ' alert-dismissible fade show col-12\" role=\"alert\">' + textMsg +\r\n    '<button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"' + ariaLabelAlertClose + '\"></button>' +\r\n    '</div>'\r\n  );\r\n\r\n  window.setTimeout(function() {\r\n    $(\".alert-dismissible\").alert('close');\r\n  }, 3000);\r\n}\r\n\r\n/* Search stored array of object for the url */\r\nfunction searchStoredMarkers(url, storedArray, notIndex = null) {\r\n  if (notIndex) {\r\n    notIndex = Number(notIndex);\r\n  }\r\n\r\n  for (let i = 0; i < storedArray.length; i++) {\r\n    if (storedArray[i].settingUrl === url && i !== notIndex) {\r\n      return storedArray[i];\r\n    }\r\n  }\r\n}\r\n\r\n/* Add a setting to the display and storage */\r\nfunction saveSettings() {\r\n  let settingUrl = $('.settings-input #url').val(),\r\n      settingColor = pickr.getSelectedColor().toHEXA().toString(0),\r\n      settingLabel = $('.settings-input #label').val(),\r\n      settingFontSize = $('.settings-input #font-size').val(),\r\n      settingPosition = $('.settings-input #position').val(),\r\n      settingSize = $('.settings-input #size').val();\r\n\r\n  if (settingUrl !== '' && settingColor !== '' && settingLabel !== '') {\r\n    chrome.storage.sync.get(markersKey).then((storedResults) => {\r\n      let storedArray = storedResults[markersKey] || [],\r\n          objectExists = searchStoredMarkers(settingUrl, storedArray);\r\n\r\n      if (!objectExists) {\r\n        if ($('.alert-dismissible').length) {\r\n          $(\".alert-dismissible\").alert('close');\r\n        }\r\n\r\n        // Reset input elements for the next entry\r\n        $('.settings-input #url').val('');\r\n        $('.settings-input #label').val('');\r\n        $('.settings-input #font-size').val('14');\r\n        $('.settings-input #position').val('top-left');\r\n        $('.settings-input #size').val('normal');\r\n\r\n        storeSetting(storedResults, settingUrl, settingColor, settingLabel, settingPosition, settingSize, settingFontSize);\r\n      } else {\r\n        // Duplicate marker error message\r\n        showMessage(errorDuplicateMarker, true);\r\n      }\r\n    }, onError);\r\n  } else {\r\n    // Empty input error message\r\n    settingLabel === '' ? showMessage(errorLabelEmpty, true) : showMessage(errorUrlEmpty, true);\r\n  }\r\n}\r\n\r\n/* Store a new setting in local storage */\r\nfunction storeSetting(storedResults, settingUrl, settingColor, settingLabel, settingPosition, settingSize, settingFontSize) {\r\n  let storedArray = storedResults[markersKey] || [];\r\n  let storeObject = {\r\n    settingUrl: settingUrl,\r\n    settingColor: settingColor,\r\n    settingLabel: settingLabel,\r\n    settingPosition: settingPosition,\r\n    settingSize: settingSize,\r\n    settingFontSize: settingFontSize\r\n  };\r\n\r\n  storedArray.push(storeObject);\r\n  let settingIndex =  storedArray.length + 1;\r\n\r\n  chrome.storage.sync.set({ [markersKey] : storedArray }).then(() => {\r\n    showOrHideEmptyNotice(hide);\r\n    displaySetting(settingIndex, settingUrl, settingColor, settingLabel, settingPosition, settingSize, settingFontSize);\r\n  }, onError);\r\n}\r\n\r\n/* Update settings */\r\nfunction updateSetting(indexEditVal, settingUrl, newSettingUrl, settingColor, settingLabel, settingPosition, settingSize, settingFontSize, replacePrevious) {\r\n  chrome.storage.sync.get(markersKey).then((storedResults) => {\r\n    let storedArray = storedResults[markersKey] || [],\r\n        settingExists = searchStoredMarkers(newSettingUrl, storedArray, indexEditVal);\r\n\r\n    indexEditVal = Number(indexEditVal);\r\n\r\n    if (!settingExists) {\r\n      let updatedArray = storedArray.filter(function(currentObj, index) {\r\n        if (currentObj.settingUrl === settingUrl && index === indexEditVal) {\r\n          currentObj.settingUrl = newSettingUrl;\r\n          currentObj.settingColor = settingColor;\r\n          currentObj.settingLabel = settingLabel;\r\n          currentObj.settingFontSize = settingFontSize;\r\n          currentObj.settingPosition = settingPosition;\r\n          currentObj.settingSize = settingSize;\r\n        }\r\n        return true;\r\n      });\r\n\r\n      // Save in DB\r\n      chrome.storage.sync.set({ [markersKey] : updatedArray }).then(() => {\r\n        displaySetting(indexEditVal, newSettingUrl, settingColor, settingLabel, settingPosition, settingSize, settingFontSize, replacePrevious);\r\n      }, onError);\r\n    } else {\r\n      // Duplicate marker error message\r\n      showMessage(errorDuplicateMarker, true);\r\n    }\r\n  }, onError);\r\n}\r\n\r\nfunction deleteSetting(settingUrl, settingIndex) {\r\n  chrome.storage.sync.get(markersKey).then((storedResults) => {\r\n    let storedArray = storedResults[markersKey] || [],\r\n        settingExists = searchStoredMarkers(settingUrl, storedArray);\r\n\r\n    settingIndex = Number(settingIndex);\r\n\r\n    if (settingExists) {\r\n      let filteredArray = storedArray.filter(function(currentObj, index) {\r\n        return currentObj.settingUrl !== settingUrl && index !== settingIndex;\r\n      });\r\n\r\n      chrome.storage.sync.set({ [markersKey] : filteredArray }).then(() => {\r\n        showOrHideEmptyNotice();\r\n      }, onError);\r\n    }\r\n  }, onError);\r\n}\r\n\r\n/* Clear all settings from the display and storage */\r\nfunction clearAll() {\r\n  $('.settings-container .setting').each((index, element) => {\r\n    $(element).remove();\r\n  });\r\n  chrome.storage.sync.set({ [markersKey] : [] }).then(null, onError);\r\n  showOrHideEmptyNotice(show);\r\n}\r\n\r\n/* Display a setting in the setting box */\r\nfunction displaySetting(settingIndex, settingUrl, settingColor, settingLabel, settingPosition, settingSize, settingFontSize, replacePrevious = null) {\r\n  // For backwards compatibility for users that already have ribbons configured.\r\n  // @TODO: Remove sometime in the future\r\n  let settingFontSizeDisplay = '14px';\r\n  if (settingFontSize !== undefined) {\r\n    settingFontSizeDisplay = fontSizeMap.reduce(function(accumulator, currentValue) {\r\n      if (currentValue.value === settingFontSize) {\r\n        accumulator = currentValue.label;\r\n      }\r\n      return accumulator;\r\n    }, {});\r\n  } else {\r\n    settingFontSize = '14';\r\n  }\r\n\r\n  let settingPositionDisplay = positionsMap.reduce(function(accumulator, currentValue) {\r\n    if (currentValue.value === settingPosition) {\r\n      accumulator = currentValue.label;\r\n    }\r\n    return accumulator;\r\n  }, {});\r\n\r\n  // For backwards compatibility for users that already have ribbons configured.\r\n  // @TODO: Remove sometime in the future\r\n  let settingSizeDisplay = sizeSelectNormal;\r\n  if (settingSize !== undefined) {\r\n    settingSizeDisplay = sizesMap.reduce(function(accumulator, currentValue) {\r\n      if (currentValue.value === settingSize) {\r\n        accumulator = currentValue.label;\r\n      }\r\n      return accumulator;\r\n    }, {});\r\n  } else {\r\n    settingSize = 'normal';\r\n  }\r\n\r\n  let settingUrlDisplay = truncateString(settingUrl, 30),\r\n      settingUrlDisplayEncoded = he.encode(settingUrlDisplay),\r\n      innerSettingsContainer = $( \"<div/>\", { \"class\": \"setting\" }),\r\n      displayContainer = $( \"<div/>\", { \"class\": \"my-1 align-items-center display-container\" }),\r\n      displayString =\r\n        '<div class=\"d-flex align-items-center\">' +\r\n          '<div class=\"col-3 align-self-center\"><b>' + truncateString(settingLabel, 30) + '</b></div>' +\r\n          '<div class=\"col-4 align-self-center\">' + settingUrlDisplayEncoded + '</div> ' +\r\n          '<div class=\"col-5 align-self-center\">' + settingFontSizeDisplay + ', ' + settingSizeDisplay + ' ' + displayAt + ' ' + settingPositionDisplay + '</div> ' +\r\n        '</div>';\r\n\r\n  let displayLabelUrl = $( \"<div/>\", {\r\n    \"class\": \"col-10 display-labelUrl\",\r\n    \"tabindex\": \"0\",\r\n    \"aria-label\": ariaLabelEditRibbon,\r\n    \"aria-pressed\": \"false\",\r\n    \"aria-controls\": \"edit-container-\" + settingIndex,\r\n    html: displayString,\r\n    click: function() {\r\n      displayContainer.hide();\r\n      editContainer.show();\r\n    }\r\n  });\r\n\r\n  let displayColor = $( \"<div/>\", {\r\n    \"class\": \"col-1 display-color\",\r\n    \"tabindex\": \"0\",\r\n    \"aria-label\": ariaLabelEditRibbon,\r\n    \"aria-pressed\": \"false\",\r\n    \"aria-controls\": \"edit-container-\" + settingIndex,\r\n    html: '<div class=\"display-color-color\" style=\"background-color: ' + settingColor + ';\"></div>',\r\n    click: function() {\r\n      displayContainer.hide();\r\n      editContainer.show();\r\n    }\r\n  });\r\n\r\n  let deleteBtnContainer = $( \"<div/>\", {\r\n    \"class\": \"col-1 display-delete\"\r\n  });\r\n\r\n  let deleteBtn = $( \"<button/>\", {\r\n    \"class\": \"btn btn-danger btn-sm delete\",\r\n    \"aria-label\": ariaLabelDeleteRibbon,\r\n    html: '<i class=\"fas fa-trash fa-lg\"></i>',\r\n    click: function() {\r\n      $(this).parent().parent().parent().remove();\r\n      deleteSetting(settingUrl, settingIndex);\r\n    }\r\n  });\r\n\r\n  let editContainer = $( \"<div/>\", {\r\n    \"class\": \"my-3 edit-container\",\r\n    \"id\": \"edit-container-\" + settingIndex,\r\n    \"style\": \"display: none;\"\r\n  });\r\n\r\n  let editUrlInputContainer = $( \"<div/>\", {\r\n    \"class\": \"w-100 pe-1 edit-url-container\"\r\n  });\r\n\r\n  let editUrlInput = $( \"<input/>\", {\r\n    \"class\": \"form-control edit-url\",\r\n    \"placeholder\": inputUrlFragmentPlaceholder,\r\n    value: settingUrl\r\n  });\r\n\r\n  let editIndexHiddenInput = $( \"<input/>\", {\r\n    type: \"hidden\",\r\n    value: settingIndex\r\n  });\r\n\r\n  let editColorInputContainer = $( \"<div/>\", {\r\n    \"class\": \"flex-shrink-1 px-1 edit-color\"\r\n  });\r\n\r\n  let editColorInput = $( \"<input/>\", {\r\n    \"class\": \"color-picker\",\r\n    value: settingColor\r\n  });\r\n\r\n  let editLabelInputContainer = $( \"<div/>\", {\r\n    \"class\": \"pe-1 edit-label-container\"\r\n  });\r\n\r\n  let editLabelInput = $( \"<input/>\", {\r\n    \"class\": \"form-control edit-label\",\r\n    \"placeholder\": inputLabelPlaceholder,\r\n    value: settingLabel\r\n  });\r\n\r\n  let optionsSelectFontSizeContainer = $( \"<div/>\", {\r\n    \"class\": \"px-1 edit-font-size-container\"\r\n  });\r\n\r\n  let optionsSelectFontSize = $( \"<select/>\", {\r\n    \"class\": \"form-select edit-font-size\"\r\n  });\r\n\r\n  for (let i = 0; i < fontSizeMap.length; i++) {\r\n    if (fontSizeMap[i].value === settingFontSize) {\r\n      optionsSelectFontSize.append(new Option(fontSizeMap[i].label, fontSizeMap[i].value, true, true));\r\n    } else {\r\n      optionsSelectFontSize.append(new Option(fontSizeMap[i].label, fontSizeMap[i].value));\r\n    }\r\n  }\r\n\r\n  let optionsSelectPositionContainer = $( \"<div/>\", {\r\n    \"class\": \"px-1 edit-position-container\"\r\n  });\r\n\r\n  let optionsSelectPosition = $( \"<select/>\", {\r\n    \"class\": \"form-select edit-position\"\r\n  });\r\n\r\n  for (let i = 0; i < positionsMap.length; i++) {\r\n    if (positionsMap[i].value === settingPosition) {\r\n      optionsSelectPosition.append(new Option(positionsMap[i].label, positionsMap[i].value, true, true));\r\n    } else {\r\n      optionsSelectPosition.append(new Option(positionsMap[i].label, positionsMap[i].value));\r\n    }\r\n  }\r\n\r\n  let optionsSelectSizeContainer = $( \"<div/>\", {\r\n    \"class\": \"px-1 edit-size-container\"\r\n  });\r\n\r\n  let optionsSelectSize = $( \"<select/>\", {\r\n    \"class\": \"form-select edit-size\"\r\n  });\r\n\r\n  for (let i = 0; i < sizesMap.length; i++) {\r\n    if (sizesMap[i].value === settingSize) {\r\n      optionsSelectSize.append(new Option(sizesMap[i].label, sizesMap[i].value, true, true));\r\n    } else {\r\n      optionsSelectSize.append(new Option(sizesMap[i].label, sizesMap[i].value));\r\n    }\r\n  }\r\n\r\n  let updateBtnContainer = $( \"<div/>\", {\r\n    \"class\": \"flex-shrink-1 ps-1 edit-update\"\r\n  });\r\n\r\n  let updateBtn = $( \"<button/>\", {\r\n    \"class\": \"btn btn-success btn-sm update\",\r\n    html: '<i class=\"fas fa-pencil-alt fa-lg\"></i>',\r\n    click: function() {\r\n      let indexEditVal = editIndexHiddenInput.val(),\r\n          urlEditVal = editUrlInput.val(),\r\n          colorEditVal = editColorInput.val(),\r\n          labelEditVal = editLabelInput.val(),\r\n          fontSizeEditVal = optionsSelectFontSize.val(),\r\n          positionEditVal = optionsSelectPosition.val(),\r\n          sizeEditVal = optionsSelectSize.val();\r\n\r\n      if (urlEditVal !== settingUrl ||\r\n          colorEditVal !== settingColor ||\r\n          labelEditVal !== settingLabel ||\r\n          fontSizeEditVal !== settingFontSize ||\r\n          positionEditVal !== settingPosition ||\r\n          sizeEditVal !== settingSize) {\r\n        updateSetting(indexEditVal, settingUrl, urlEditVal, colorEditVal, labelEditVal, positionEditVal, sizeEditVal, fontSizeEditVal, innerSettingsContainer);\r\n      }\r\n    }\r\n  });\r\n\r\n  let cancelBtnContainer = $( \"<div/>\", {\r\n    \"class\": \"flex-shrink-1 ps-1 edit-cancel\"\r\n  });\r\n\r\n  let cancelBtn = $( \"<button/>\", {\r\n    \"class\": \"btn btn-secondary btn-sm cancel\",\r\n    html: '<i class=\"fas fa-times fa-lg\"></i>',\r\n    click: function() {\r\n      displayContainer.show();\r\n      editContainer.hide();\r\n      editUrlInput.val(settingUrl);\r\n      editColorInput.val(settingColor);\r\n      editLabelInput.val(settingLabel);\r\n      optionsSelectPosition.val(settingPosition);\r\n      optionsSelectSize.val(settingSize);\r\n      optionsSelectFontSize.val(settingFontSize);\r\n    }\r\n  });\r\n\r\n  let editFirstRow = $( \"<div/>\", {\r\n    \"class\": \"d-flex mb-2\"\r\n  });\r\n\r\n  let editSecondRow = $( \"<div/>\", {\r\n    \"class\": \"d-flex\"\r\n  });\r\n\r\n  editUrlInputContainer.append(editUrlInput);\r\n  editUrlInputContainer.append(editIndexHiddenInput);\r\n  editColorInputContainer.append(editColorInput);\r\n  optionsSelectFontSizeContainer.append(optionsSelectFontSize);\r\n  optionsSelectPositionContainer.append(optionsSelectPosition);\r\n  optionsSelectSizeContainer.append(optionsSelectSize);\r\n  updateBtnContainer.append(updateBtn);\r\n  editLabelInputContainer.append(editLabelInput);\r\n  cancelBtnContainer.append(cancelBtn);\r\n\r\n  editFirstRow.append(editUrlInputContainer);\r\n  editFirstRow.append(editColorInputContainer);\r\n  editFirstRow.append(updateBtnContainer);\r\n\r\n  editSecondRow.append(editLabelInputContainer);\r\n  editSecondRow.append(optionsSelectFontSizeContainer);\r\n  editSecondRow.append(optionsSelectPositionContainer);\r\n  editSecondRow.append(optionsSelectSizeContainer);\r\n  editSecondRow.append(cancelBtnContainer);\r\n\r\n  editContainer.append(editFirstRow);\r\n  editContainer.append(editSecondRow);\r\n\r\n  deleteBtnContainer.append(deleteBtn);\r\n\r\n  displayContainer.append(displayLabelUrl);\r\n  displayContainer.append(displayColor);\r\n  displayContainer.append(deleteBtnContainer);\r\n\r\n  innerSettingsContainer.append(displayContainer);\r\n  innerSettingsContainer.append(editContainer);\r\n\r\n  if (replacePrevious) {\r\n    replacePrevious.replaceWith(innerSettingsContainer);\r\n  } else {\r\n    $('.settings-container').append(innerSettingsContainer);\r\n  }\r\n\r\n  chrome.storage.sync.get(swatchesKey).then((storedSwatchesArray) => {\r\n    if (storedSwatchesArray[swatchesKey]) {\r\n      colorSwatches = storedSwatchesArray[swatchesKey]\r\n    }\r\n\r\n    let pickr = Pickr.create({\r\n      el: editColorInput[0],\r\n      theme: 'nano',\r\n      default: settingColor,\r\n      useAsButton: false,\r\n      swatches: colorSwatches,\r\n      components: {\r\n        preview: true,\r\n        opacity: true,\r\n        hue: true,\r\n        interaction: {\r\n          hex: false,\r\n          rgba: false,\r\n          hsla: false,\r\n          hsva: false,\r\n          cmyk: false,\r\n          input: true,\r\n          clear: false,\r\n          save: true\r\n        }\r\n      },\r\n      i18n: {\r\n        'ui:dialog': colorPickerUiDialog,\r\n        'btn:toggle': colorPickerBtnToggle,\r\n        'btn:swatch': colorPickerBtnSwatch,\r\n        'btn:last-color': colorPickerBtnLastColor,\r\n        'btn:save': colorPickerBtnSave,\r\n        'btn:cancel': colorPickerBtnCancel,\r\n        'btn:clear': colorPickerBtnClear,\r\n        'aria:btn:save': colorPickerAriaBtnSave,\r\n        'aria:btn:cancel': colorPickerAriaBtnCancel,\r\n        'aria:btn:clear': colorPickerAriaBtnClear,\r\n        'aria:input': colorPickerAriaInput,\r\n        'aria:palette': colorPickerAriaPalette,\r\n        'aria:hue': colorPickerAriaHue,\r\n        'aria:opacity': colorPickerAriaOpacity\r\n      }\r\n    });\r\n\r\n    pickr.on('save', (color, instance) => {\r\n      editColorInput.val(color.toHEXA().toString(0));\r\n\r\n      // Add color to the swatch and remove the last color\r\n      let swatchList = pickr.getSwatches();\r\n      let swatchExists = swatchList.includes(color.toRGBA().toString(0));\r\n      if (!swatchExists) {\r\n        if (swatchList.length === maxSwatches) {\r\n          swatchList.pop();\r\n        }\r\n        swatchList.unshift(color.toRGBA().toString(0));\r\n        pickr.setSwatches(swatchList);\r\n        saveSwatches(swatchList);\r\n      }\r\n\r\n      instance.hide();\r\n    });\r\n\r\n    pickr.on('show', () => {\r\n      chrome.storage.sync.get(swatchesKey).then((storedSwatchesArray) => {\r\n        if (storedSwatchesArray[swatchesKey]) {\r\n          colorSwatches = storedSwatchesArray[swatchesKey]\r\n        }\r\n        pickr.setSwatches(colorSwatches);\r\n      }, onError);\r\n    });\r\n  }, onError);\r\n}\r\n\r\n$(document).ready(() => {\r\n  /* Display previously saved markers on startup */\r\n  initialize();\r\n\r\n  $('html').attr('lang', languageCode);\r\n\r\n  let clearButton = $('.clear'),\r\n      toggleButton = $('.toggle'),\r\n      optionsButton = $('.options');\r\n\r\n  $('.save').click(() => {\r\n    saveSettings();\r\n  });\r\n\r\n  clearButton.click(() => {\r\n    clearAll();\r\n  });\r\n\r\n  optionsButton.click(() => {\r\n    chrome.runtime.openOptionsPage();\r\n  });\r\n\r\n  toggleButton.click(() => {\r\n    chrome.storage.sync.get(extensionEnabledKey).then((extensionEnabledValue) => {\r\n      let extensionEnabled = extensionEnabledValue[extensionEnabledKey] === undefined ? true : extensionEnabledValue[extensionEnabledKey];\r\n      chrome.storage.sync.set({ [extensionEnabledKey] : !extensionEnabled }).then(() => {\r\n        let btnLabel = !extensionEnabled ? buttonDisable : buttonEnable;\r\n        toggleButton.html(btnLabel);\r\n        toggleButton.attr('class', `btn btn-sm btn-${!extensionEnabled ? 'danger' : 'success'} toggle`);\r\n\r\n        chrome.runtime.sendMessage({cmd: \"toggleExtensionOnOff\", data: {value: !extensionEnabled}});\r\n      }, onError);\r\n    }, onError);\r\n  });\r\n\r\n  chrome.storage.sync.get(extensionEnabledKey).then((extensionEnabledValue) => {\r\n    let extensionEnabled = extensionEnabledValue[extensionEnabledKey] === undefined ? true : extensionEnabledValue[extensionEnabledKey];\r\n    let btnLabel = extensionEnabled ? buttonDisable : buttonEnable;\r\n    toggleButton.html(btnLabel);\r\n    toggleButton.attr('class', `btn btn-sm btn-${extensionEnabled ? 'danger' : 'success'} toggle`);\r\n  }, onError);\r\n\r\n  $(document).keydown(function(event) {\r\n    // Enter\r\n    if (event.key === 'Enter' || event.key === 'NumpadEnter') {\r\n      saveSettings();\r\n    }\r\n\r\n    // Escape\r\n    if (event.key === 'Escape') {\r\n      window.close();\r\n    } else {\r\n      return true;\r\n    }\r\n  });\r\n\r\n  chrome.storage.sync.get(swatchesKey).then((storedSwatchesArray) => {\r\n    if (storedSwatchesArray[swatchesKey]) {\r\n      colorSwatches = storedSwatchesArray[swatchesKey]\r\n    }\r\n\r\n    pickr = Pickr.create({\r\n      el: '.color-picker',\r\n      theme: 'nano',\r\n      useAsButton: false,\r\n      swatches: colorSwatches,\r\n      components: {\r\n        preview: true,\r\n        opacity: true,\r\n        hue: true,\r\n        interaction: {\r\n          hex: false,\r\n          rgba: false,\r\n          hsla: false,\r\n          hsva: false,\r\n          cmyk: false,\r\n          input: true,\r\n          clear: false,\r\n          save: true\r\n        }\r\n      },\r\n      i18n: {\r\n        'ui:dialog': colorPickerUiDialog,\r\n        'btn:toggle': colorPickerBtnToggle,\r\n        'btn:swatch': colorPickerBtnSwatch,\r\n        'btn:last-color': colorPickerBtnLastColor,\r\n        'btn:save': colorPickerBtnSave,\r\n        'btn:cancel': colorPickerBtnCancel,\r\n        'btn:clear': colorPickerBtnClear,\r\n        'aria:btn:save': colorPickerAriaBtnSave,\r\n        'aria:btn:cancel': colorPickerAriaBtnCancel,\r\n        'aria:btn:clear': colorPickerAriaBtnClear,\r\n        'aria:input': colorPickerAriaInput,\r\n        'aria:palette': colorPickerAriaPalette,\r\n        'aria:hue': colorPickerAriaHue,\r\n        'aria:opacity': colorPickerAriaOpacity\r\n      }\r\n    });\r\n\r\n    pickr.on('save', (color, instance) => {\r\n      //$('.settings-input #color').val(color.toHEXA().toString(0));\r\n\r\n      // Add color to the swatch and remove the last color\r\n      let swatchList = pickr.getSwatches();\r\n      let swatchExists = swatchList.includes(color.toRGBA().toString(0));\r\n      if (!swatchExists) {\r\n        if (swatchList.length === maxSwatches) {\r\n          swatchList.pop();\r\n        }\r\n        swatchList.unshift(color.toRGBA().toString(0));\r\n        pickr.setSwatches(swatchList);\r\n        saveSwatches(swatchList);\r\n      }\r\n\r\n      instance.hide();\r\n    });\r\n\r\n    pickr.on('show', () => {\r\n      chrome.storage.sync.get(swatchesKey).then((storedSwatchesArray) => {\r\n        if (storedSwatchesArray[swatchesKey]) {\r\n          colorSwatches = storedSwatchesArray[swatchesKey]\r\n        }\r\n        pickr.setSwatches(colorSwatches);\r\n      }, onError);\r\n    });\r\n\r\n    pickr.on('init', (instance) => {\r\n      $('.pcr-button').attr('tabindex', '2');\r\n    });\r\n  }, onError);\r\n\r\n  $('.empty-notice').html(noticeNoRibbons);\r\n  clearButton.html(buttonClearAll);\r\n  //toggleButton.html(buttonDisable);\r\n  optionsButton.html(buttonOptions);\r\n\r\n  let url_input = $('#url'),\r\n      color_input = $('#color'),\r\n      label_input = $('#label');\r\n\r\n  chrome.storage.sync.get(searchModeKey).then((storedSearchMode) => {\r\n    let searchModeRegExp = storedSearchMode[searchModeKey] || false;\r\n    if (searchModeRegExp) {\r\n      url_input.attr('placeholder', inputUrlFragmentRegExpPlaceholder);\r\n      url_input.attr('aria-label', inputUrlFragmentRegExpPlaceholder);\r\n    } else {\r\n      url_input.attr('placeholder', inputUrlFragmentPlaceholder);\r\n      url_input.attr('aria-label', inputUrlFragmentPlaceholder);\r\n    }\r\n  });\r\n\r\n  color_input.attr('placeholder', inputColorPlaceholder);\r\n  color_input.attr('aria-label', inputColorPlaceholder);\r\n  label_input.attr('placeholder', inputLabelPlaceholder);\r\n  label_input.attr('aria-label', inputLabelPlaceholder);\r\n\r\n  $('#font-size').attr('aria-label', selectFontSizeLabel);\r\n  $('#position').attr('aria-label', selectPositionLabel);\r\n  $('#size').attr('aria-label', selectRibbonSizeLabel);\r\n  $('#save').attr('aria-label', buttonSaveLabel);\r\n\r\n  $('#position option[value=\"top-left\"]').html(positionSelectTopLeft);\r\n  $('#position option[value=\"top-right\"]').html(positionSelectTopRight);\r\n  $('#position option[value=\"bottom-left\"]').html(positionSelectBottomLeft);\r\n  $('#position option[value=\"bottom-right\"]').html(positionSelectBottomRight);\r\n\r\n  $('#size option[value=\"extra-small\"]').html(sizeSelectExtraSmall);\r\n  $('#size option[value=\"small\"]').html(sizeSelectSmall);\r\n  $('#size option[value=\"normal\"]').html(sizeSelectNormal);\r\n  $('#size option[value=\"large\"]').html(sizeSelectLarge);\r\n  $('#size option[value=\"extra-large\"]').html(sizeSelectExtraLarge);\r\n});\r\n"],"mappings":"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"}