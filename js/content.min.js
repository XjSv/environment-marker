!function(){function e(e,n,r,l,s,i,a){t(),o();let c=document.createElement("div"),m=document.createElement("div"),d=function(e){e=e.replace("#","");let t=parseInt(e.substr(0,2),16),o=parseInt(e.substr(2,2),16),n=parseInt(e.substr(4,2),16);return(299*t+587*o+114*n)/1e3>=128?"black":"white"}(e);if(void 0===l&&(l="14"),void 0===i&&(i="normal"),c.className="em-ribbon-wrapper em-"+s+"-wrapper em-"+i+"-ribbon-wrapper",m.className="em-ribbon em-"+i+"-ribbon em-"+s+"-ribbon",m.textContent=function(e,t){if(e.length<=t)return e;return e.slice(0,t)+"..."}(r,10),c.appendChild(m),a){let t=a.split(":"),o=t[0],n=t[1],r=t[2]||"400",s=parseInt(r,10),i=/i$/.test(r);if(m.setAttribute("style","background-color: "+e+"; color: "+d+"; font-size: "+l+"px; font-family: '"+n+"'; font-weight: "+s+"; font-style: "+(i?"italic":"normal")+";"),"google"===o){let e=document.createElement("link");e.href="https://fonts.googleapis.com/css?family="+n+"&display=swap",e.type="text/css",e.rel="stylesheet",e.className="em-google-stylesheet",document.head.appendChild(e)}else{let e=document.createElement("style");e.innerHTML="@font-face { font-family:'"+n+"'; src:local('"+n+"'), url('/libraries/fontpicker/fonts/"+n+".woff') format('woff'); }",document.head.appendChild(e)}}else m.setAttribute("style","background-color: "+e+"; color: "+d+"; font-size: "+l+"px;");document.body.appendChild(c)}function t(){let e=document.querySelectorAll(".em-ribbon-wrapper");for(let t of e)t.remove()}function o(){let e=document.querySelectorAll(".em-google-stylesheet");for(let t of e)t.remove()}window.hasRun||"undefined"==typeof browser||(window.hasRun=!0,browser.runtime.onMessage.addListener(n=>("addRibbon"===n.command?e(n.color,n.url,n.label,n.fontSize,n.position,n.size,n.font):"reset"===n.command&&(t(),o()),Promise.resolve("done"))))}();
//# sourceMappingURL=content.min.js.map
