!function(){function e(e,n,l,r,i,s,a){t(),o(),function(e,t){let o=1;new Favico({bgColor:e,textColor:e,type:"circle",position:"down",animation:"popFade"}).badge(o)}(e);let c=document.createElement("div"),d=document.createElement("div"),m=document.createElement("div"),p=function(e){e=e.replace("#","");let t=parseInt(e.substr(0,2),16),o=parseInt(e.substr(2,2),16),n=parseInt(e.substr(4,2),16);return(299*t+587*o+114*n)/1e3>=128?"black":"white"}(e);if(void 0===r&&(r="14"),void 0===s&&(s="normal"),c.className="em-ribbon-wrapper em-"+i+"-wrapper em-"+s+"-ribbon-wrapper",d.className="em-ribbon em-"+s+"-ribbon em-"+i+"-ribbon",m.className="em-ribbon-label",m.textContent=l,d.appendChild(m),c.appendChild(d),a){let t=a.split(":"),o=t[0],n=t[1],l=t[2]||"400",i=parseInt(l,10),s=/i$/.test(l);if(d.setAttribute("style","background-color: "+e+"; color: "+p+"; font-size: "+r+"px; font-family: '"+n+"'; font-weight: "+i+"; font-style: "+(s?"italic":"normal")+";"),"google"===o){let e=document.createElement("link");e.href="https://fonts.googleapis.com/css?family="+n+":"+l+"&display=swap",e.type="text/css",e.rel="stylesheet",e.className="em-google-stylesheet",document.head.appendChild(e)}else{let e=document.createElement("style");e.innerHTML="@font-face { font-family:'"+n+"'; src:local('"+n+"'), url('/libraries/fontpicker/fonts/"+n+".woff') format('woff'); }",document.head.appendChild(e)}}else d.setAttribute("style","background-color: "+e+"; color: "+p+"; font-size: "+r+"px;");document.body.appendChild(c)}function t(){let e=document.querySelectorAll(".em-ribbon-wrapper");for(let t of e)t.remove()}function o(){let e=document.querySelectorAll(".em-google-stylesheet");for(let t of e)t.remove()}window.hasRun||"undefined"==typeof browser||(window.hasRun=!0,browser.runtime.onMessage.addListener((n=>("addRibbon"===n.command?e(n.color,n.url,n.label,n.fontSize,n.position,n.size,n.font):"reset"===n.command&&(t(),o()),Promise.resolve("done")))))}();